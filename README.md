# napcat-plugin-auto-to-like

> ä¸€ä¸ªåŸºäº [NapCat](https://github.com/NapNeko/NapCatQQ) çš„ QQ è‡ªåŠ¨å›èµæ’ä»¶ï¼Œæ”¶åˆ°ç‚¹èµ / æˆ³ä¸€æˆ³è‡ªåŠ¨å›èµå›æˆ³ï¼Œè¿˜æ”¯æŒå®šæ—¶ä¸»åŠ¨ç»™æŒ‡å®šå¥½å‹ç‚¹èµã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ **è‡ªåŠ¨å›èµ** â€” æ”¶åˆ°å¥½å‹ç‚¹èµåè‡ªåŠ¨å›èµç›¸åŒæ¬¡æ•°
- ğŸ‘† **è‡ªåŠ¨å›æˆ³** â€” æ”¶åˆ°ç¾¤å†…æˆ³ä¸€æˆ³åè‡ªåŠ¨å›æˆ³
- ğŸ‘¤ **å®šæ—¶èµæŒ‡å®šç”¨æˆ·** â€” å®šæ—¶è‡ªåŠ¨ç»™æŒ‡å®šç”¨æˆ·åˆ—è¡¨ç‚¹èµï¼Œå¯é…ç½®é—´éš”å’Œæ¬¡æ•°
- ğŸš« **é»‘åå•è¿‡æ»¤** â€” è®¾ç½®é»‘åå•ç”¨æˆ·ï¼Œä¸å¯¹å…¶è‡ªåŠ¨å›èµ
- ğŸ‘‘ **VIP æ¬¡æ•°é™åˆ¶** â€” å¯é™åˆ¶ VIP ç”¨æˆ·æ¯æ—¥è¢«å›èµæ¬¡æ•°
- ğŸ¤ **å¥½å‹éªŒè¯** â€” ä»…å›èµå¥½å‹åˆ—è¡¨ä¸­çš„ç”¨æˆ·
- ğŸŒ **WebUI ç®¡ç†é¢æ¿** â€” é€šè¿‡ NapCat WebUI å¯è§†åŒ–ç®¡ç†é…ç½®
- ğŸ”§ **NapCat é…ç½®é¢æ¿** â€” æ”¯æŒ NapCat åŸç”Ÿé…ç½® Schemaï¼Œç›´æ¥åœ¨ WebUI ä¸­ä¿®æ”¹é…ç½®

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šä» Release ä¸‹è½½ï¼ˆæ¨èï¼‰

1. å‰å¾€ [Releases](https://github.com/ChaceQC/napcat-plugin-auto-to-like/releases) é¡µé¢ä¸‹è½½æœ€æ–°çš„ zip åŒ…
2. è§£å‹åˆ° NapCat çš„ `plugins` ç›®å½•

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ„å»º

```bash
git clone https://github.com/ChaceQC/napcat-plugin-auto-to-like.git
cd napcat-plugin-auto-to-like
pnpm install
pnpm run build
```

å°† `dist/` ç›®å½•å†…å®¹å¤åˆ¶åˆ° NapCat çš„ `plugins` ç›®å½•å³å¯ã€‚

## âš™ï¸ é…ç½®è¯´æ˜

å®‰è£…ååœ¨ NapCat WebUI çš„æ’ä»¶é…ç½®é¢æ¿ä¸­å³å¯å¯è§†åŒ–é…ç½®ï¼Œæ‰€æœ‰å‚æ•°å‡æ”¯æŒçƒ­æ›´æ–°ã€‚

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `enabled` | å¸ƒå°” | `true` | æ’ä»¶å…¨å±€å¼€å…³ |
| `debug` | å¸ƒå°” | `false` | è°ƒè¯•æ¨¡å¼ï¼Œå¯ç”¨åè¾“å‡ºè¯¦ç»†æ—¥å¿— |
| `autoLikeEnabled` | å¸ƒå°” | `true` | æ˜¯å¦å¯ç”¨è‡ªåŠ¨å›èµ |
| `blacklist` | æ•°ç»„ | `[]` | é»‘åå•ç”¨æˆ· ID åˆ—è¡¨ |
| `vipLikeLimit` | æ•°å­— | `10` | VIP ç”¨æˆ·æ¯æ—¥å›èµæ¬¡æ•°ä¸Šé™ |
| `autoLikeSomeoneEnabled` | å¸ƒå°” | `false` | æ˜¯å¦å¯ç”¨å®šæ—¶èµæŒ‡å®šç”¨æˆ· |
| `autoLikeUsers` | æ•°ç»„ | `[]` | éœ€è¦å®šæ—¶ç‚¹èµçš„ç”¨æˆ· ID åˆ—è¡¨ |
| `autoLikeInterval` | æ•°å­— | `1440` | è‡ªåŠ¨èµé—´éš”ï¼ˆåˆ†é’Ÿï¼‰ |
| `autoLikeTimes` | æ•°å­— | `10` | æ¯æ¬¡è‡ªåŠ¨èµçš„æ¬¡æ•° |

## ğŸ”„ å·¥ä½œæµç¨‹

```mermaid
graph TD
    A["æ”¶åˆ°äº‹ä»¶"] --> B{äº‹ä»¶ç±»å‹?}
    B -->|"ç‚¹èµ / profile_like"| C["æå–ç”¨æˆ·IDå’Œæ¬¡æ•°"]
    B -->|"æˆ³ä¸€æˆ³ (poke)"| D["æ£€æŸ¥æ˜¯å¦æˆ³çš„æœºå™¨äºº"]
    B -->|å…¶ä»–| X["å¿½ç•¥"]
    
    C --> E{è‡ªåŠ¨å›èµå¼€å¯?}
    D --> E
    E -->|å¦| X
    E -->|æ˜¯| F{é»‘åå•æ£€æŸ¥}
    F -->|åœ¨é»‘åå•ä¸­| X
    F -->|é€šè¿‡| G{æ˜¯å¦ä¸ºå¥½å‹?}
    G -->|å¦| X
    G -->|æ˜¯| H{VIP æ¬¡æ•°é™åˆ¶}
    H -->|å·²è¾¾ä¸Šé™| X
    H -->|é€šè¿‡| I["æ‰§è¡Œå›èµ / å›æˆ³"]
```

## ï¿½ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- pnpm

### å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å®Œæ•´æ„å»ºï¼ˆåç«¯ + WebUI å‰ç«¯ï¼‰
pnpm run build

# ä»…æ„å»º WebUI å‰ç«¯
pnpm run build:webui

# WebUI å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm run dev:webui

# å¼€å‘æ¨¡å¼ï¼ˆwatch + è‡ªåŠ¨éƒ¨ç½²çƒ­é‡è½½ï¼‰
pnpm run dev

# ä¸€é”®éƒ¨ç½²
pnpm run deploy

# ç±»å‹æ£€æŸ¥
pnpm run typecheck
```

> **çƒ­é‡è½½**ï¼šéœ€è¦åœ¨ NapCat ç«¯å®‰è£… `napcat-plugin-debug` æ’ä»¶ã€‚`pnpm run dev` ä¼š watch åç«¯æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨é‡æ–°æ„å»ºå¹¶éƒ¨ç½²ã€‚

### é¡¹ç›®ç»“æ„

```
napcat-plugin-auto-to-like/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # æ’ä»¶å…¥å£ï¼Œç”Ÿå‘½å‘¨æœŸå‡½æ•°
â”‚   â”œâ”€â”€ config.ts             # é…ç½®å®šä¹‰å’Œ WebUI Schema
â”‚   â”œâ”€â”€ types.ts              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ state.ts          # å…¨å±€çŠ¶æ€ç®¡ç†å•ä¾‹
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ like-handler.ts   # ç‚¹èµ/æˆ³ä¸€æˆ³äº‹ä»¶å¤„ç†
â”‚   â”‚   â””â”€â”€ message-handler.ts # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ api-service.ts    # WebUI API è·¯ç”±
â”‚   â””â”€â”€ webui/                # React SPA å‰ç«¯
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ release.yml        # CI/CD è‡ªåŠ¨æ„å»ºå‘å¸ƒ
â”‚       â””â”€â”€ update-index.yml   # è‡ªåŠ¨æ›´æ–°æ’ä»¶ç´¢å¼•
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.md
```

## ğŸš€ CI/CD

æ¨é€ `v*` æ ¼å¼çš„ tag å³å¯è‡ªåŠ¨æ„å»ºå‘å¸ƒï¼Œå¹¶è‡ªåŠ¨å‘ [napcat-plugin-index](https://github.com/NapNeko/napcat-plugin-index) æäº¤ PR æ›´æ–°æ’ä»¶ç´¢å¼•ã€‚

```bash
git tag v1.0.0
git push origin v1.0.0
```

## ğŸ“„ è®¸å¯è¯

MIT License
